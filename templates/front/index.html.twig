{% extends 'baseE_front.html.twig' %}

{% block title %}Hello HomeController!{% endblock %}

{% block body %}
<style>
 /* Animation for background bubbles */
    @keyframes bubble {
        0% {
            transform: translateY(0) rotate(0deg);
        }
        100% {
            transform: translateY(-1000px) rotate(360deg);
        }
    }

    .bubble {
        position: absolute;
        width: 40px;
        height: 40px;
        background-color: rgba(255, 255, 255, 0.4);
        bottom: -100px;
        border-radius: 50%;
        animation: bubble 20s infinite linear;
    }
    .example-wrapper { margin: 1em auto; max-width: 800px; width: 95%; font: 18px/1.5 sans-serif; }
    .example-wrapper code { background: #F5F5F5; padding: 2px 6px; }
    .header-section {
        position: relative;
        z-index: 1;
        background-color: black;
        color: white;
    }
    .footer-section {
        position: relative;
        z-index: 1;
        margin-top: auto;
    }
    .carousel-item img {
        max-width: 100%;
        height: 1000px;
    }
    .carousel-item.active,
    .carousel-item-next,
    .carousel-item-prev {
        display: block;
    }
    .carousel-item {
        transition: transform 0.6s ease;
        transform-style: preserve-3d;
    }
    .carousel-inner {
        display: flex;
        flex-wrap: nowrap;
    }
    .carousel-item-next:not(.carousel-item-left),
    .active.carousel-item-right {
        transform: translateX(100%);
    }
    .carousel-item-prev:not(.carousel-item-right),
    .active.carousel-item-left {
        transform: translateX(-100%);
    }
    .carousel-item-next,
    .active.carousel-item-right,
    .carousel-item-prev,
    .active.carousel-item-left {
        transform: translateX(0);
    }
    .card {
        margin-bottom: 20px;
        border-radius: 10px;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    }
    .card-img-top {
        border-top-left-radius: 10px;
        border-top-right-radius: 10px;
    }
    .card-body {
        padding: 20px;
    }
    .card-title {
        font-size: 20px;
        font-weight: bold;
        margin-bottom: 10px;
    }
    .card-text {
        font-size: 16px;
        margin-bottom: 5px;
    }
    .pagination {
        justify-content: center;
    }
  
</style>
 <!-- Header Section Begin -->
<header class="header-section">
    <div class="container-fluid">
        <div class="row">
            <div class="col-lg-3">
                <div class="logo">
                    <a href="./index.html">
                        <img src="img/whitelogo.png" alt="">
                    </a>
                </div>
            </div>
         <div class="col-lg-6">
                    <nav class="nav-menu">
                        <ul>
            
                            <li><a href="./index.html">Home</a></li>
                            <li><a href="{{ path('app_reserv_i') }}">Reservation</a></li>
                            <li class="active"><a href="{{ path('display_front') }}">Events</a></li>
                            <li ><a href="{{ path('app_client_newF') }}">coaching</a></li>
                           
                            <li  ><a href="{{ path('app_produit_front') }}">Produits</a>
                                <ul class="dropdown">
                                    <li><a href="{{ path('app_cart') }}">Checkout</a></li>
                                 
                                </ul>
                            </li>
                            <li><a href="{{ path('app_logout') }}">LOGOUT</a></li>
                        </ul>
                    </nav>
                </div>
            <div class="col-lg-3">
                <div class="top-option">
                    <div class="to-search search-switch">
                        <i class="fa fa-search"></i>
                    </div>
                    <div class="to-social">
                        <a href="#"><i class="fa fa-facebook"></i></a>
                        <a href="#"><i class="fa fa-twitter"></i></a>
                        <a href="#"><i class="fa fa-youtube-play"></i></a>
                        <a href="#"><i class="fa fa-instagram"></i></a>
                    </div>
                </div>
            </div>
        </div>
        <div class="canvas-open">
            <i class="fa fa-bars"></i>
        </div>
    </div>
</header>
<!-- Header End -->


<!-- Animation for background bubbles -->
<div class="bubble"></div>
<div class="bubble"></div>
<div class="bubble"></div>
<div class="bubble"></div>
<div class="bubble"></div>
<!-- End of bubble animation -->

<div class="container">
    <div id="event-carousel" class="carousel slide" data-bs-ride="carousel">
        <div class="carousel-inner">
            <!-- Loop through events -->
            {% for event in e %} 
                <div class="carousel-item {% if loop.first %}active{% endif %}">
                    <a href="{{ path('add_review', {'idEvent': event.idEvent}) }}" style="text-decoration: none; color: inherit;">
                        <div class="card">
                            <img class="card-img-top" src="{{ asset('/uploads/images/' ~ event.image) }}" alt="Event Image" style="width: 100%; object-fit: cover;">
                            <div class="card-body">
                                <h5 class="card-title">{{ event.nomEvent }}</h5>
                                <p class="card-text">Date: {{ event.dateEvent|date('Y-m-d H:i:s') }}</p>
                                <p class="card-text">Location: {{ event.lieuEvent }}</p>
                                <p class="card-text">Star: {{ event.nomStar }}</p>
                                <!-- Display reviews for the current event -->
                                {% if event.reviews is not empty %}
                                    <h6>Reviews:</h6>
                                    <ul>
                                        {% for review in event.reviews %}
                                            <li>{{ review.description }}</li>
                                            <!-- You can display other review details here -->
                                        {% endfor %}
                                    </ul>
                                {% else %}
                                    <p>No reviews available for this event.</p>
                                {% endif %}
                                <!-- End of reviews section -->
                            </div>
                        </div>
                    </a>
                </div>
            {% endfor %}
      </div>


      
    <a class="carousel-control-prev" href="#event-carousel" role="button" data-slide="prev">
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        <span class="sr-only">Previous</span>
    </a>
    <a class="carousel-control-next" href="#event-carousel" role="button" data-slide="next">
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="sr-only">Next</span>
    </a>
</div>


<!-- Add a title above the table -->
<div class="container mt-5">
    <h2 style="text-align: center;">NOS TOP EVENTS</h2>
    <table class="table" style="border: 2px solid blue; font-family: Arial, sans-serif; background-color: #FFD700; animation: fadeIn 1s forwards;">
        <thead>
            <tr style="color: black;"> <!-- Set color of table titles to black -->
                <th>Event Name</th>
                <th>Total Stars <i class="fas fa-star"></i></th> <!-- Adjusted title with star icon -->
            </tr>
        </thead>
        <tbody>
            {% for event in top %}
                <tr>
                    <td>{{ event.nomEvent }}</td>
                    <td>{{ event.totalStars }} <i class="fas fa-star"></i></td> <!-- Added star icon -->
                </tr>
            {% endfor %}
        </tbody>
    </table>
</div>


<style>
    @keyframes fadeIn {
        from {
            opacity: 0;
        }
        to {
            opacity: 1;
        }
    }
</style>



<!-- Footer Section Begin -->
<footer class="footer-section" style="margin-top: auto;">
    <section class="footer-section">
        <div class="container">
            <div class="row">
                <div class="col-lg-4">
                    <div class="fs-about">
                        <div class="fa-logo">
                            <a href="#"><img src="img/logo.png" alt=""></a>
                        </div>
                        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut
                            labore dolore magna aliqua endisse ultrices gravida lorem.</p>
                        <div class="fa-social">
                            <a href="#"><i class="fa fa-facebook"></i></a>
                            <a href="#"><i class="fa fa-twitter"></i></a>
                            <a href="#"><i class="fa fa-youtube-play"></i></a>
                            <a href="#"><i class="fa fa-instagram"></i></a>
                            <a href="#"><i class="fa  fa-envelope-o"></i></a>
                        </div>
                    </div>
                </div>
                <div class="col-lg-2 col-md-3 col-sm-6">
                    <div class="fs-widget">
                        <h4>Useful links</h4>
                        <ul>
                            <li><a href="#">About</a></li>
                            <li><a href="#">Blog</a></li>
                            <li><a href="#">Classes</a></li>
                            <li><a href="#">Contact</a></li>
                        </ul>
                    </div>
                </div>
                <div class="col-lg-2 col-md-3 col-sm-6">
                    <div class="fs-widget">
                        <h4>Support</h4>
                        <ul>
                            <li><a href="#">Login</a></li>
                            <li><a href="#">My account</a></li>
                            <li><a href="#">Subscribe</a></li>
                            <li><a href="#">Contact</a></li>
                        </ul>
                    </div>
                </div>
                <div class="col-lg-4 col-md-6">
                    <div class="fs-widget">
                        <h4>Tips & Guides</h4>
                        <div class="fw-recent">
                            <h6><a href="#">Physical fitness may help prevent depression, anxiety</a></h6>
                            <ul>
                                <li>3 min read</li>
                                <li>20 Comment</li>
                            </ul>
                        </div>
                        <div class="fw-recent">
                            <h6><a href="#">Fitness: The best exercise to lose belly fat and tone up...</a></h6>
                            <ul>
                                <li>3 min read</li>
                                <li>20 Comment</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-lg-12 text-center">
                    <div class="copyright-text">
                        <p>
                            <!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. -->
                            Copyright &copy;<script>document.write(new Date().getFullYear());</script>
                            All rights reserved | This template is made with <i class="fa fa-heart" aria-hidden="true"></i>
                            by <a href="https://colorlib.com" target="_blank">Colorlib</a>
                            <!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. -->
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </section>
</footer>
<!-- Footer Section End -->

<!-- Add the JavaScript code for pagination -->
<script>
    // Initialize variables
    const itemsPerPage = 3;
    let currentPage = 1;
    const totalCards = document.querySelectorAll('.carousel-item').length;
    const totalPages = Math.ceil(totalCards / itemsPerPage);

    function showPage(pageNumber) {
        // Not needed for Bootstrap Carousel
    }

    function goToPreviousPage() {
        if (currentPage > 1) {
            currentPage--;
            document.getElementById('event-carousel').carousel('prev'); // Move to previous slide
        }
    }

    function goToNextPage() {
        if (currentPage < totalPages) {
            currentPage++;
            document.getElementById('event-carousel').carousel('next'); // Move to next slide
        }
    }

    // Initialize pagination
    showPage(currentPage);
</script>




{% endblock %}
