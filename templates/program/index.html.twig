{% extends 'base22.html.twig' %}

{% block title %}Program index{% endblock %}

{% block contentsq %}
<div class="card mb-4" style="width: 100vw; height: 100vh;">
    <div class="card-header">
        <i class="fas fa-table me-1"></i>
        DataTable Example
    </div>
    <div class="card-body" style="height: calc(100vh - 60px); overflow: auto;">
        <!-- Search Form -->
        <input class="form-control" id="search" type="text" name="search" placeholder="Search for..." aria-label="Search for..." aria-describedby="btnNavbarSearch" />
      

        <table id="datatablesSimple" style="width: 100%;">
            <thead>
              <div id='program-container' class="grid-container">
                <tr>
                    <th>IdP</th>
                    <th>Titre</th>
                    <th>Niveau</th>
                    <th>Description</th>
                    <th>Prix</th>
                    <th>Image</th>
                    <th>Actions</th>
                </tr>
                </div>
            </thead>
           
            <tbody>
                {% if programs is not empty %}
                    {% for program in programs %}
                        <tr>
                            <td>{{ program.idP }}</td>
                            <td>{{ program.titre }}</td>
                            <td>{{ program.niveau }}</td>
                            <td>{{ program.description }}</td>
                            <td>{{ program.prix }}</td>
                            <td>
                               <td><img src="{{ asset('uploads/images/'~ program.image) }}" width="250" height="150"></td>
                            </td>
                            <td>
                                <a href="{{ path('app_program_show', {'idP': program.idP}) }}">Show</a>
                                <a href="{{ path('app_program_edit', {'idP': program.idP}) }}">Edit</a>
                            </td>
                        </tr>
                    {% endfor %}
                {% else %}
                    <tr>
                        <td colspan="7">No records found</td>
                    </tr>
                {% endif %}
            </tbody>
        </table>

        <a href="{{ path('app_program_new') }}" class="btn btn-flat btn-success mb-3">Create new program</a>
         <a href="{{ path('app_client_index') }}" class="btn btn-flat btn-success mb-3">Clients</a>
          <a href="{{ path('app_program_indexC') }}" class="btn btn-flat btn-success mb-3">acceptation</a>
    </div>




    <div class="example-wrapper">
    
        <div class="sort-dropdown">
        


        </div>
    </div>
</div>
{% endblock %}






{% block javascripts %}
 <!-- jquery latest version -->
    <script src={{ asset("assets/js/vendor/jquery-2.2.4.min.js") }}></script>
    <!-- bootstrap 4 js -->
    <script src={{ asset("assets/js/popper.min.js") }}></script>
    <script src={{ asset("assets/js/bootstrap.min.js") }}></script>
    <script src={{ asset("assets/js/owl.carousel.min.js") }}></script>
    <script src={{ asset("assets/js/metisMenu.min.js") }}></script>
    <script src={{ asset("assets/js/jquery.slimscroll.min.js") }}></script>
    <script src={{ asset("assets/js/jquery.slicknav.min.js") }}></script>

    <!-- start chart js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.7.2/Chart.min.js"></script>
    <!-- start highcharts js -->
    <script src="https://code.highcharts.com/highcharts.js"></script>
    <!-- start zingchart js -->
    <script src="https://cdn.zingchart.com/zingchart.min.js"></script>
    <script>
      zingchart.MODULESDIR = "https://cdn.zingchart.com/modules/";
      ZC.LICENSE = [
        "569d52cefae586f634c54f86dc99e6a9",
        "ee6b7db5b51705a13dc2339db3edaf6d",
      ];
    </script>
    <!-- all line chart activation -->
    <script src={{ asset("assets/js/line-chart.js") }}></script>
    <!-- all pie chart -->
    <script src={{ asset("assets/js/pie-chart.js") }}></script>
        <script src={{ asset("assets/js/bar-chart.js") }}></script>
    <!-- others plugins -->
    <script src={{ asset("assets/js/plugins.js") }}></script>
    <script src={{ asset("assets/js/scripts.js") }}></script>

<script>



 
    <script>
        $(document).ready(function() {
            $('#sortSelect').change(function () {
                var selectedOption = $(this).val();
                
                // Send AJAX request based on selected option
                $.ajax({
                    url: selectedOption, // Use the value of the selected option as the URL
                    method: 'GET',
                    success: function(response) {
                        // Replace the contents of the programs container with the response
                        $('#programs-container').html(response);
                    },
                    error: function(xhr, status, error) {
                        console.log(xhr, status, error); // Log any errors to the console
                        // Handle errors if necessary
                    }
                });
            });
        });
    </script>

    <script src="{{ asset('https://code.jquery.com/jquery-3.5.1.min.js') }}"></script>
    
    <script>

 $(document).ready(function() {
    $('#search').on('keyup', function() {
        var query = $(this).val().toLowerCase();
        
        // Parcourir chaque ligne du tableau
        $('#tableBodyPlaceholder tbody tr').each(function() {
            var rowText = $(this).text().toLowerCase();
            // Vérifier si la ligne contient le texte de la recherche
            if (rowText.indexOf(query) === -1) {
                $(this).hide(); // Masquer la ligne si elle ne correspond pas
            } else {
                $(this).show(); // Afficher la ligne si elle correspond
            }
        });

        // Si la chaîne de recherche est vide, afficher toutes les lignes
        if (query === '') {
            $('#tableBodyPlaceholder tbody tr').show();
        }
    });
});
</script>
 
{% endblock %}
