{% extends 'base.html.twig' %}

{% block body %}
<div style="display: flex; align-items: center; justify-content: center;">
    <div class="card shadow-lg border-0 rounded-lg mt-5">
        <div class="card-header">
            <h3 class="text-center font-weight-light my-4">MODIFIER</h3>
        </div>
        <div class="card-body">
            {{ form_start(f)}}
            <table>
                <tr>
                    <td>
                        <label for="inputText">Nom Event</label>
                    </td>
                    <td>
                        {{ form_widget(f.nomEvent, {'attr': {'class': 'form-control'}}) }}
                    </td>
                    <td>
                        {% if f.nomEvent.vars.errors|length > 0 %}
                            <label style="color: red;">{{ f.nomEvent.vars.errors|first.message }}</label>
                        {% endif %}
                    </td>
                </tr>
                <tr>
    <td>
        <label for="inputText">Date Event</label>
    </td>
    <td colspan="2">
        {{ form_widget(f.dateEvent, {'attr': {'class': 'form-control'}}) }}
        {% if f.dateEvent.vars.errors|length > 0 %}
            <label style="color: red;">{{ f.dateEvent.vars.errors|first.message }}</label>
        {% endif %}
    </td>
</tr>

                <tr>
                    <td>
                        <label for="inputText">Lieu Event</label>
                    </td>
                    <td>
                        {{ form_widget(f.lieuEvent, {'attr': {'class': 'form-control'}}) }}
                    </td>
                    <td>
                        {% if f.lieuEvent.vars.errors|length > 0 %}
                            <label style="color: red;">{{ f.lieuEvent.vars.errors|first.message }}</label>
                        {% endif %}
                    </td>
                </tr>
                <tr>
                    <td>
                        <label for="inputText">Nom Star</label>
                    </td>
                    <td>
                        {{ form_widget(f.nomStar, {'attr': {'class': 'form-control'}}) }}
                    </td>
                    <td>
                        {% if f.nomStar.vars.errors|length > 0 %}
                            <label style="color: red;">{{ f.nomStar.vars.errors|first.message }}</label>
                        {% endif %}
                    </td>
                </tr>
            </table>
            <!-- Add image preview section -->
            <div class="row mb-3">
                <div class="col-md-6">
                    <label for="inputText">Image</label>
                </div>
                <div class="col-md-6">
                    {{ form_widget(f.image, {'attr': {'class': 'form-control', 'id': 'image-input', 'onchange': 'previewImage(event)'}}) }}
                    <img id="image-preview" src="#" alt="Image Preview" style="max-width: 100%; max-height: 200px; margin-top: 10px; display: none;">
                </div>
            </div>
            <!-- End of image preview section -->  
            <div class="col-md-6">
                {{ form_widget(f.button, {'label': 'modifier', 'attr': {'class': 'btn btn-primary'}}) }}
            </div>
            {{ form_end(f)}}
        </div>
    </div>
</div>

<script>
    function previewImage(event) {
        var input = event.target;
        var reader = new FileReader();

        reader.onload = function () {
            var imagePreview = document.getElementById('image-preview');
            imagePreview.src = reader.result;
            imagePreview.style.display = 'block';
        };

        reader.readAsDataURL(input.files[0]);
    }
</script>
{% endblock %}
